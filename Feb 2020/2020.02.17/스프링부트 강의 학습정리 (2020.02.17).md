# 스프링부트 강의 학습정리 (2020.02.17)

## [토크ON세미나] 스프링 부트를 이용한 웹 서비스 개발

* 강의: https://www.youtube.com/watch?v=26GuwzdB3iI
* 강의자: 김지헌(우아한형제들)

### 스프링 부트의 기능정의

* 단독 실행 가능한 스프링 애플리케이션을 생성한다.
* 내장 컨테이너로 톰캣, 제티, 언더토우 중 하나를 선택한다.
* 스타터를 통해 간결한 의존성 구성을 지원한다.
* XML 구성이 필요하지 않다.
* 스프링에 대한 자동구성을 제공한다.
* 제품 출시 이후 운영에 필요한 다양한 기능(예: 상태점검, 모니터링 등)을 제공한다.
* 스프링 프레임워크를 기반으로 한 개발 플랫폼으로 생각하면 된다.
  * 마치 아두이노에서 필요한 모듈을 꽂아서 동작시킨 것처럼.
  * 스프링 프레임워크 위에서 스타터라는 제공되는 라이브러리를 얹으면서 애플리케이션의 기능을 확장하는 플랫폼 형태.

### 스프링 부트의 구성 요소

* 빌드 도구 (Gradle vs Maven)
  * 코드스쿼드 마스터즈코스의 기본 개발환경은 Gradle임
* 스프링 프레임워크
  * 4.X
  * 5.X
* 스프링 부트
  * 1.5
  * 2.0 - Kotlin을 지원함
  * 2020.02.17 기준 최신 버전은 2.2.4
* 스프링 부트 스타터
  * 의존성을 관리하는 플랫폼

### Spring Initalizer

* http://start.spring.io
* 여기다가 GET 요청을 해서 파일을 받는 형식으로 이루어 짐

### 빌드 vs 작동

* 실행 가능한 JAR/WAR vs 고전적인 WAR

  * bootRepackage까지 패키징을 하느냐의 차이
  * 컨테이너 안에서도 실행 가능한 JAR를 배포하고 그 안의 자바 빌드팩을 설치
  * 작은 단위 컨테이너 안에서도 애플리케이션을 실행할 수 있도록 지원

* 스프링 부트는 Annotation을 기반으로 작동함

  * @SpringBootApplication

  ```java
  @SpringBootApplication
  //이 위치를 기준으로 하향식의 패키지를 탐색함
  public class DemoApplication {
  
  	public static void main(String[] args) {
  		SpringApplication.run(DemoApplication.class, args);
      //이 클래스가 실행되면서 객체를 관리하는 컨테이너를 실행함
  	}
  }
  ```

### Spring Boot Starter

* Spring Boot Autoconfigure
  * 간결한 의존성 구성을 지원함
  * spring-boot-starter https://github.com/spring-projects/spring-boot/tree/master/spring-boot-project/spring-boot-starters
* Spring Boot Dependencies
  * Spring-boot-autoconfigure https://github.com/spring-projects/spring-boot/tree/master/spring-boot-project/spring-boot-autoconfigure
  * 스프링 부트가 기술 흐름에 따라 제공하는 관례적인 구성
* 스프링 부트를 잘 사용하려면 결국 스프링을 깊이 이해해야 한다.

### Lombok

* getter, setter, toString 등을 그냥 어노테이션으로 제공한다. 코드를 간결하게 쓸 수 있다.

### H2Database

* 추후 학습

### 스프링 부트 프로젝트 기본구조

* 그레이들 래퍼
  * 그레이들 각각 설치했어야 하는데 버전 차이에 의해서 빌드가 안되는 이슈가 있었음
  * Jar 파일이 있는지 확인하고 없으면 배포 서버에 가서 gradle-wrapper.jar를 받아오려고 함
  * 이후에 빌드를 실행함

```java
project ├── build.gradle ├── gradle │ └── wrapper │ ├── gradle-wrapper.jar │ └── gradle-wrapper.properties ├── gradlew ├── gradlew.bat ├── settings.gradle

//그레들Gradle에는 래퍼Wrapper라고 하는 운영체제에 맞춰서 그레들 빌드를 수행하도록 하는 배치 스크립트가 있다.
```

* 스프링 부트는 일종의 컴파일 프로그램이다. 다만, 웹에서만 사용되는 편이다.
* Jar 형태로 최종적으로 배포할 수 있음

### @Component

* @Controller, @Service, @Repository 라는 세 개의 큰 하위로 구분지을 수 있음
* @Bean vs @Component
  * @Bean: 개발자가 컨트롤이 불가능한 **외부 라이브러리들을 Bean으로 등록하고 싶은 경우**
  * @Component: 개발자가 **직접 컨트롤이 가능한 Class들의 경우**

### 의존성 주입(DI)

* 의존성 주입은 프로그래밍에서 구성요소간 의존 관계가 소스코드 내부가 아닌 외부의 설정파일 등을 통해 정의되게 하는 디자인 패턴 중의 하나이다.

```java
@Service
public class temp1 extends services {
	private final BookRepo repo;
	
	public temp1(BookRepo repo) { //생성자 주입
		this.repo = repo;
	}
	//코드 생략
}
```

### Spring Data JPA

* ORM
* JPA
  * 하이버네이트
* 무슨 소리인지 이해가 안된다. 3강에서 추후 학습하기로 하자.
  * https://www.youtube.com/watch?v=TNV3HSI-Npc

## 부스트코스 강경미 스프링부트 특강

* 강의: https://www.edwith.org/boostcourse-web/lecture/35494/

### pom.xml

* parent 요소를 통해 기본적인 설정을 읽어온다.
* dependecies 요소 자체에는 다음이 있다.
  * parent 요소의 설정에 맞는 버전을 자동으로 가져온다.
* Plugin 요소는 실행 가능한 JAR 파일을 만들어주는 역할을 한다.

### application.properties

* *스프링부트*가 구동될 때 자동적으로 로딩하는 프로퍼티 파일
* 외부 설정값을 주입할 때 사용하는 파일

### Spring Boot Test

* @RunWith(something.class);
* @AutoWired 객체의 주입
* @RequestMapping