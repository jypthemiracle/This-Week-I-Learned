# 넥스트스텝 ATDD 07/03 1회차

* TDD는 어렵다. 가능한가?

* 인수 테스트를 어떻게 리팩토링할 것인가?

  * 인수 테스트 내부에 유닛 테스트 및 TDD 여러 가지가 있다.

* 인수 테스트는 왜 좋은가?

  * 큰 그림을 볼 수 있다. 유닛 테스트가 놓치는 지점을 테스트해준다.
  * 도메인에 대한 이해도가 높지 않아도 TDD Cycle을 검증할 수 있다.
  * 작업 진행도를 예측할 수 있다.

* 인수 테스트를 먼저 짤 것인가 vs 유닛 테스트를 먼저 짤 것인가

  * 인수 테스트를 기반으로 개발해보자.

* 도메인 이해하기.

  * 역 번호는 어떻게 구성되나? (질문)

* 자동화된 테스트를 구현하자.

  * 신규 기능을 개발할 때.
  * 리팩토링을 할 때.

* ATDD는 무엇인가.

  * Agile?
  * 개발팀 전체의 내용. 유저 스토리, 설계 .... 디벨롭을 하기 전에 공통의 이해를 하고 있나?

* 인수 조건

  * 인수 테스트를 만들기 위해 충족하기 위한 조건을 제작하는 것이다.
  * 인수 Acceptance. 클라이언트가 소프트웨어를 accept하는 것에서 나오는 단어.
  * 즉, 개발 용어가 배제되어야 한다. 내부 프로세스는 몰라야 한다.
  * given and then, 체크리스트 ...

  ```
  Feature: 간략한 기능 서술
  Scenario: 시나리오(예시) 제목
  Given: 사전조건
  When: 발생해야하는 이벤트
  Then: 사후조건
  
  --
  
  And: 앞선 내용에 추가적인 내용 기술
  ```

  ```
  ex) 지하철 삭제
    Scenario: 지하철 노선을 제거한다.
      Given 지하철 노선이 등록되어 있다
      When 지하철 노선을 삭제 요청한다.
      Then 지하철 노선이 삭제된다.
  given: 지하철 노선 등록 request 보내기
  when: 지하철 노선 삭제 request 보내기
  then: 지하철 노선 삭제를 확인하기
  방법1: 지하철 노선 삭제의 응답 코드로 확인
  방법2: 지하철 노선 조회 request 후 response 값에서 확인
  ```

* 어떻게 해야 하냐?

  * 인수 테스트를 만든다.
  * DTO를 정의한다.
  * Mock 서버를 일단 만든다.

* 스프링에는 인수 테스트 도구가 무엇이 있을까?

  * RestAssured - Request 도구
    * Tomcat 환경에서 가장 비슷하게 사용
  * Test Server - @SpringBootTest

* when -> then -> given 형태로 테스트를 작성

  * 테스트할 주체 when
  * 예상하는 상황 then
  * 테스트를 하기 위해서 필요한 전제조건 given

## 클린코드 자바지기 강의 영상 링크

* 1차: https://edu.nextstep.camp/s/KDgLkV1d/ls/XOHk74D3

* 2차: https://youtu.be/O2yParlLSUA
* 3차: https://youtu.be/HHeTGbF8Zt