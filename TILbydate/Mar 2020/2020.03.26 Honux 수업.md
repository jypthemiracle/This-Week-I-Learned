# 2020.03.26 Honux 수업

## 진짜 입문자를 위한 클라우드와 AWS - 인프런 수업

* 수업 전에 듣고 오라고 하셨음

### 클라우드

* 개인 사용자를 위한 클라우드
* 기업 사용자를 위한 클라우드
  * 서버를 사지 않고 서비스로 제공을 받는 것. IaaS 서비스.
  * Dropbox가 AWS 스토리지 서비스를 사용한다 vs 데이터 센터를 새로 구축한다.
* 클라우드의 장점
  * 가격, 탄력성/확장성, 안정성 ...
  * 컴퓨팅, 스토리지, 네트워크는 클라우드 업체에서 기본적으로 제공해준다.
  * 가상의 컴퓨터를 원하는 시간만큼 빌려오는 것이다.
  * 단, 필요한 소프트웨어의 설치와 관리는 사용자가 직접 해야 한다.
* AWS를 이용하여 PC를 한 대 맞춰보자
  * PC는 아니고, host computer(= server)
  * EC2: CPU + Memory (+ GPU)
  * EBS: EC2에 연결하여 사용하는 SSD로, OS와 프로그램 그리고 데이터 일부를 저장.
  * VPC: EC2를 연결하기 위한 네트워크 망으로, VPC와 인터넷을 연결해야 함.

### 물리서버와 클라우드 가격 비교하기

* 자전거를 생각해보자
  * 공간 절약, 유지보수 해결 리소스가 많이 든다
  * 그런데 비용 측면에서 꼭 싸다고 볼 수는 없고, 가용성이 상대적으로 낮고, 성능도 문제이다.
* AWS Simple Monthly Calculator로 계산해보자.
* 계산해보자...
  * 서버를 24개월 즉 2년마다 교체한다고 했을 때...
    * 서버 구입비 = 72만원 / 24개월 = 3만원. 성능은 괜찮을거야.
    * 전기세, 3만원, 인터넷 3만원 .... 이러면 월 9만원?
    * 건물 임대료, 인건비, 세금 ...... 다 합치면 으악
  * 서버를 임대한다고 생각해보자. 가비아나 이런 곳에서
    * 월 7.5만원 수준인데, 성능은 뭐 낫배드? 보통..
  * 클라우드
    * 월 18만원 으악 (서버랑 동급 하드웨어 계산 시)
    * 잘 배우고 설계하면 가격이 내려간다...
    * 코드스쿼드는 월 5만원으로 두 종류의 서비스를 운영하고 있음
    * 돈보다 중요한 것은 탄력성, 내구도, 안정성.......
* 탄력성과 내구성?
  * 탄력성: 서비스 규모에 맞게 인프라를 확장/축소할 수 있는가?
  * 내구성: 오류 및 사고발생 시점에 데이터가 안전하게 저장되는가?
  * 안정성: 다운타임/유지보수시간을 최소화하고 서비스가 정상적으로 유지되는가?

### Dropbox vs S3 비교하기 및 간단 데모

* 드롭박스는 S3를 이용해서 서비스를 시작했지만, 현재는 멀티 클라우드를 사용하는 것으로 추정됨
  * 개인 사용자용. 구글 드라이브, N드라이브 등과 같은 유형
* S3(Simple Storage Service): 객체 저장소로서 파일 단위로 저장됨
  * 업로드 및 다운로드 지원
  * 99.9999999% 내구성을 보유함 (eleven 9)
  * 높은 가용성 (99.9%)
  * 주로 비즈니스 용 및 앱 개발 용으로 사용됨
* AWS의 스토리지 서비스
  * EBS: EC2와 연결해서 사용하는 SSD와 같은 서비스. 블록 저장소.
  * S3: 드롭박스처럼 파일 업로드 / 다운로드가 가능한 인터넷 저장 서비스. 가장 중요한 서비스.

### 인터넷의 원리와 클라우드 네트워크

* AWS Route 53
  * AWS에서 제공해주는 DNS 서비스
  * 저렴하고 100% 가용성을 보장해준다.
* CDN -> PoP(Point of Present) - Cloud Front(CF)
  * 전세계에 흩어져 있는 작은 데이터센터를 연결하는 역할
  * Route 53도 같이 서비스함. 따라서 100% 가용성이 보장됨

* 데이터 센터에서 서비스를 운영한다면?
  * 내부 네트워크 구축
    * 각 서버들을 물리적으로 연결
  * 이 여러 서버 중에서 일부는 인터넷과 연결됨(DMZ)
* AWS Virtual Private Cloud
  * AWS에서 서비스를 개발 및 제공하기 위한 가상 사설 네트워크
  * 하나의 서비스에 하나의 VPC로 시작
  * VPC는 인터넷과 연결됨
  * VPC는 다시 용도에 따라 subnet으로 나눔
  * 각각의 subnet에서 웹서버, DB 등이 연결됨 (by EC2 instance)
  * Public subnet: 웹서버, 메일서버 등
  * Private subnet: 데이터베이스, 보안 데이터, 백업 데이터 등
* 3-Tier Web Application Architecture
  * 인터넷 사용자들은 Route 53을 통해서 들어오게 됨
  * Web Server가 맨 앞에 있고, 이를 Public subnet이라고 함
  * 로드 밸런서를 통해 Web Server와 App Server를 연결하고 있음
  * App Server와 데이터베이스는 맨 뒤에 있고, 이를 Private subnet이라고 함
  * 이러한 구성을 VPC로 할 수 있다고 한다.
* 작은 기업이면 다음의 서비스를 생각해보자.
  * Lightsail vs EC2
  * https://blog.kinesis.kr/184
  * [https://medium.com/harrythegreat/%EB%82%B4%EA%B2%8C-%EC%95%8C%EB%A7%9E%EB%8A%94-aws-%EC%BB%B4%ED%93%A8%ED%8C%85-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%B0%BE%EA%B8%B0-bfd2c409273c](https://medium.com/harrythegreat/내게-알맞는-aws-컴퓨팅-서비스-찾기-bfd2c409273c)

## IAM 실습

* AWS Identity and Access Management(IAM)
  * 인증, 권한 부여, 다양한 자격증명 연동, IAM Role의 사용
* IAM 사용자를 생성하는 실습을 진행한다.

